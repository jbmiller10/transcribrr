============================= test session starts ==============================
platform linux -- Python 3.11.9, pytest-8.4.1, pluggy-1.6.0 -- /home/john/transcribrr/.venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/john/transcribrr
configfile: pyproject.toml
testpaths: app/tests
plugins: anyio-4.10.0, cov-6.2.1
collecting ... collected 205 items

app/tests/test_busy_guard.py::TestBusyGuardUIStateManagement::test_disables_ui_elements_during_operation PASSED [  0%]
app/tests/test_busy_guard.py::TestBusyGuardUIStateManagement::test_handles_empty_ui_element_list PASSED [  0%]
app/tests/test_busy_guard.py::TestBusyGuardUIStateManagement::test_ui_state_restored_after_exception PASSED [  1%]
app/tests/test_busy_guard.py::TestBusyGuardVisualFeedback::test_handles_missing_spinner_gracefully PASSED [  1%]
app/tests/test_busy_guard.py::TestBusyGuardVisualFeedback::test_indeterminate_progress PASSED [  2%]
app/tests/test_busy_guard.py::TestBusyGuardVisualFeedback::test_progress_dialog_shows_updates PASSED [  2%]
app/tests/test_busy_guard.py::TestBusyGuardVisualFeedback::test_spinner_shows_during_operation PASSED [  3%]
app/tests/test_busy_guard.py::TestBusyGuardVisualFeedback::test_status_message_display PASSED [  3%]
app/tests/test_busy_guard.py::TestBusyGuardVisualFeedback::test_update_progress_noop_when_not_started PASSED [  4%]
app/tests/test_busy_guard.py::TestBusyGuardCancellation::test_cancel_callback_error_handling PASSED [  4%]
app/tests/test_busy_guard.py::TestBusyGuardCancellation::test_cancel_idempotency PASSED [  5%]
app/tests/test_busy_guard.py::TestBusyGuardCancellation::test_cancel_invokes_callback PASSED [  5%]
app/tests/test_busy_guard.py::TestBusyGuardCancellation::test_cancel_without_callback PASSED [  6%]
app/tests/test_busy_guard.py::TestBusyGuardCancellation::test_progress_cancelable_flag_respected PASSED [  6%]
app/tests/test_busy_guard.py::TestBusyGuardErrorHandling::test_cleanup_error_doesnt_mask_exception PASSED [  7%]
app/tests/test_busy_guard.py::TestBusyGuardErrorHandling::test_exception_triggers_cleanup PASSED [  7%]
app/tests/test_busy_guard.py::TestBusyGuardErrorHandling::test_feedback_manager_errors_handled PASSED [  8%]
app/tests/test_busy_guard.py::TestBusyGuardErrorHandling::test_partial_setup_failure_cleanup PASSED [  8%]
app/tests/test_busy_guard.py::TestBusyGuardResultCapture::test_result_none_by_default PASSED [  9%]
app/tests/test_busy_guard.py::TestBusyGuardResultCapture::test_result_storage_and_retrieval PASSED [  9%]
app/tests/test_busy_guard.py::TestBusyGuardResultCapture::test_result_survives_exception PASSED [ 10%]
app/tests/test_busy_guard.py::TestBusyGuardOperationTrackingAndIds::test_keyboardinterrupt_cleanup_and_propagation PASSED [ 10%]
app/tests/test_busy_guard.py::TestBusyGuardOperationTrackingAndIds::test_operation_id_format_uses_uuid_and_name PASSED [ 11%]
app/tests/test_busy_guard.py::TestBusyGuardOperationTrackingAndIds::test_systemexit_cleanup_and_propagation PASSED [ 11%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_create_recording_persists_to_database_and_appears_in_listing PASSED [ 12%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_create_recording_with_duplicate_path_raises_error PASSED [ 12%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_create_recording_with_invalid_data_formats PASSED [ 13%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_create_recording_with_none_in_required_field_emits_error PASSED [ 13%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_create_recording_with_sql_injection_literal PASSED [ 14%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_delete_nonexistent_recording_handles_gracefully PASSED [ 14%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_delete_recording_removes_from_database_permanently PASSED [ 15%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_search_recordings_returns_matching_transcripts PASSED [ 15%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_search_recordings_with_empty_term_returns_all PASSED [ 16%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_unicode_characters_in_filenames_and_transcripts PASSED [ 16%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_update_nonexistent_recording_handles_gracefully PASSED [ 17%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_update_recording_modifies_fields_retrievable_by_id PASSED [ 17%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerBehavior::test_update_with_invalid_fields_still_callbacks PASSED [ 18%]
app/tests/test_database_manager_behavior.py::TestDatabaseManagerInitFailure::test_init_connection_failure_raises_runtimeerror PASSED [ 18%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_concurrent_create_same_path_sequential_queue PASSED [ 19%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_create_recording_persists_data PASSED [ 19%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_delete_recording_removes_data PASSED [ 20%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_empty_queue_processing PASSED [ 20%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_execute_query_insert_returns_lastrowid_and_datachange PASSED [ 20%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_execute_query_select_no_datachange PASSED [ 21%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_execute_query_update_affected_rows PASSED [ 21%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_extremely_large_data_reasonable PASSED [ 22%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_malformed_operation_handling PASSED [ 22%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_unique_constraint_violation_logged_and_no_datachange PASSED [ 23%]
app/tests/test_database_worker_integration.py::TestDatabaseWorkerWithRealSQLite::test_update_recording_modifies_data PASSED [ 23%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_create_recording_inserts_data_and_returns_id PASSED [ 24%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_create_recording_large_fields PASSED [ 24%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_create_recording_null_in_required_field_raises PASSED [ 25%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_create_recording_raises_on_duplicate_path PASSED [ 25%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_create_recording_sql_injection_literal PASSED [ 26%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_create_recording_with_empty_tuple_raises PASSED [ 26%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_delete_nonexistent_id_succeeds PASSED [ 27%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_delete_recording_executes PASSED [ 27%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_update_nonexistent_id_succeeds_silently PASSED [ 28%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_update_recording_ignores_invalid_fields PASSED [ 28%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_update_recording_injection_in_value_is_literal PASSED [ 29%]
app/tests/test_db_utils_unit.py::TestDbUtilsCRUD::test_update_recording_no_fields PASSED [ 29%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_get_all_recordings PASSED [ 30%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_get_recording_by_id_maps_fields PASSED [ 30%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_get_recording_by_id_missing_legacy_column_handled PASSED [ 31%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_get_recording_by_id_negative_returns_none PASSED [ 31%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_get_recording_by_id_none PASSED [ 32%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_get_recording_by_id_pending_date_is_replaced PASSED [ 32%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_get_recording_by_id_sql_injection_in_id_is_literal PASSED [ 33%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_recording_exists_true_false PASSED [ 33%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_recording_exists_with_special_chars PASSED [ 34%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_search_empty_string_returns_all PASSED [ 34%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_search_recordings PASSED [ 35%]
app/tests/test_db_utils_unit.py::TestDbUtilsQueries::test_search_unicode_term PASSED [ 35%]
app/tests/test_db_utils_unit.py::TestEnsureDatabaseExists::test_ensure_database_exists_config_creation_failure_propagates PASSED [ 36%]
app/tests/test_db_utils_unit.py::TestEnsureDatabaseExists::test_ensure_database_exists_creates_tables_and_config PASSED [ 36%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_create_config_file_dump_error_propagates PASSED [ 37%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_create_recording_not_null_violation_propagates PASSED [ 37%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_create_recordings_table_sql_error_logs_and_raises PASSED [ 38%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_create_recordings_table_success_commits_and_indexes PASSED [ 38%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_delete_recording_integrity_error_propagates PASSED [ 39%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_ensure_database_exists_connection_failure_short_circuits PASSED [ 39%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_get_connection_corrupted_raises_runtimeerror PASSED [ 40%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_get_connection_disk_io_error_raises_runtimeerror PASSED [ 40%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_get_connection_locked_raises_runtimeerror_and_logs PASSED [ 40%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_get_connection_permission_denied_propagates PASSED [ 41%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_get_connection_success_sets_pragmas PASSED [ 41%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_recording_exists_database_error_propagates PASSED [ 42%]
app/tests/test_db_utils_unit.py::TestConnectionAndErrors::test_update_recording_locked_raises PASSED [ 42%]
app/tests/test_feedback_manager.py::TestFeedbackManagerUIStateManagement::test_disables_all_ui_elements_when_busy_mode_activated PASSED [ 43%]
app/tests/test_feedback_manager.py::TestFeedbackManagerUIStateManagement::test_preserves_disabled_elements_original_state PASSED [ 43%]
app/tests/test_feedback_manager.py::TestFeedbackManagerUIStateManagement::test_restores_original_ui_state_when_all_operations_complete PASSED [ 44%]
app/tests/test_feedback_manager.py::TestFeedbackManagerOperationTracking::test_ignores_finish_for_non_existent_operations PASSED [ 44%]
app/tests/test_feedback_manager.py::TestFeedbackManagerOperationTracking::test_maintains_busy_state_until_all_operations_finish PASSED [ 45%]
app/tests/test_feedback_manager.py::TestFeedbackManagerProgressDialogs::test_creates_and_updates_progress_dialog PASSED [ 45%]
app/tests/test_feedback_manager.py::TestFeedbackManagerProgressDialogs::test_manual_close_removes_dialog PASSED [ 46%]
app/tests/test_feedback_manager.py::TestFeedbackManagerSpinnerIntegration::test_starting_nonexistent_spinner_returns_false PASSED [ 46%]
app/tests/test_feedback_manager.py::TestFeedbackManagerSpinnerIntegration::test_starting_spinner_begins_and_stopping_completes_operation PASSED [ 47%]
app/tests/test_feedback_manager.py::TestFeedbackManagerSpinnerIntegration::test_stop_spinner_idempotent_when_inactive PASSED [ 47%]
app/tests/test_feedback_manager.py::TestFeedbackManagerErrorHandling::test_continues_when_element_lacks_isEnabled PASSED [ 48%]
app/tests/test_feedback_manager.py::TestFeedbackManagerErrorHandling::test_recovers_from_setEnabled_exceptions PASSED [ 48%]
app/tests/test_feedback_manager.py::TestFeedbackManagerErrorHandling::test_set_ui_busy_false_is_noop PASSED [ 49%]
app/tests/test_feedback_manager.py::TestFeedbackManagerErrorHandling::test_set_ui_busy_none_uses_existing_tracked_elements PASSED [ 49%]
app/tests/test_feedback_manager.py::TestFeedbackManagerErrorHandling::test_show_status_returns_none PASSED [ 50%]
app/tests/test_feedback_manager.py::TestFeedbackManagerComprehensiveCleanup::test_stop_all_feedback_clears_everything PASSED [ 50%]
app/tests/test_feedback_manager.py::TestFeedbackManagerOperationStartBehavior::test_first_start_triggers_disable_only_once PASSED [ 51%]
app/tests/test_feedback_manager.py::TestFeedbackManagerOperationStartBehavior::test_spinner_toggle_deactivates_and_finishes_operation PASSED [ 51%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_associate_recording_with_folder_and_retrieve_via_query PASSED [ 52%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_cascade_delete_child_folders_when_parent_deleted PASSED [ 52%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_create_hierarchical_folder_structure_with_parent_child_relationship PASSED [ 53%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_delete_folder_from_database_and_memory_when_requested PASSED [ 53%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_disassociate_recording_from_folder_on_removal PASSED [ 54%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_persist_folder_rename_to_database_and_update_memory_cache PASSED [ 54%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_preserve_folder_structure_through_export_import_cycle PASSED [ 55%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_reject_duplicate_folder_name_at_same_hierarchy_level PASSED [ 55%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_reject_rename_when_target_name_exists_at_same_level PASSED [ 56%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerBehavior::test_should_return_all_folders_containing_specific_recording PASSED [ 56%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerSingletonAndEdgeCases::test_create_folder_error_when_no_id PASSED [ 57%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerSingletonAndEdgeCases::test_delete_nonexistent_folder_returns_false PASSED [ 57%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerSingletonAndEdgeCases::test_get_recordings_not_in_folders_without_callback_warns PASSED [ 58%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerSingletonAndEdgeCases::test_instance_returns_same_and_warns_on_different_manager PASSED [ 58%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerSingletonAndEdgeCases::test_instance_without_db_manager_raises PASSED [ 59%]
app/tests/test_folder_manager_behavior.py::TestFolderManagerSingletonAndEdgeCases::test_rename_nonexistent_folder_returns_false PASSED [ 59%]
app/tests/test_path_utils.py::TestResourcePathBehavior::test_absolute_path_is_preserved PASSED [ 60%]
app/tests/test_path_utils.py::TestResourcePathBehavior::test_development_env_returns_project_root_and_can_access_icons PASSED [ 60%]
app/tests/test_path_utils.py::TestResourcePathBehavior::test_empty_relative_path_returns_base PASSED [ 60%]
app/tests/test_path_utils.py::TestResourcePathBehavior::test_traversal_sequences_are_joined PASSED [ 61%]
app/tests/test_path_utils.py::TestResourcePathBehavior::test_unicode_paths PASSED [ 61%]
app/tests/test_path_utils.py::TestExecutionEnvironment::test_get_execution_environment_development PASSED [ 62%]
app/tests/test_path_utils.py::TestExecutionEnvironment::test_get_execution_environment_frozen_without_macos PASSED [ 62%]
app/tests/test_path_utils.py::TestExecutionEnvironment::test_get_execution_environment_py2app PASSED [ 63%]
app/tests/test_path_utils.py::TestExecutionEnvironment::test_get_execution_environment_pyinstaller PASSED [ 63%]
app/tests/test_path_utils.py::TestBaseResourcePath::test_base_path_development_uses_project_root PASSED [ 64%]
app/tests/test_path_utils.py::TestBaseResourcePath::test_base_path_py2app_uses_resources_dir PASSED [ 64%]
app/tests/test_path_utils.py::TestBaseResourcePath::test_base_path_pyinstaller_uses_meipass PASSED [ 65%]
app/tests/test_path_utils.py::TestBaseResourcePath::test_base_path_with_explicit_env_detector PASSED [ 65%]
app/tests/test_path_utils.py::TestBaseResourcePath::test_pyinstaller_missing_meipass_raises PASSED [ 66%]
app/tests/test_path_utils.py::TestBaseResourcePath::test_pyinstaller_none_meipass_returns_none PASSED [ 66%]
app/tests/test_recording_model.py::TestRecordingModel::test_empty_filename_rejected PASSED [ 67%]
app/tests/test_recording_model.py::TestRecordingModel::test_estimate_file_size_edge_cases PASSED [ 67%]
app/tests/test_recording_model.py::TestRecordingModel::test_format_seconds_boundaries_and_fractional PASSED [ 68%]
app/tests/test_recording_model.py::TestRecordingModel::test_from_database_row PASSED [ 68%]
app/tests/test_recording_model.py::TestRecordingModel::test_from_database_row_wrong_lengths PASSED [ 69%]
app/tests/test_recording_model.py::TestRecordingModel::test_from_database_row_wrong_types PASSED [ 69%]
app/tests/test_recording_model.py::TestRecordingModel::test_get_display_duration PASSED [ 70%]
app/tests/test_recording_model.py::TestRecordingModel::test_get_display_duration_infinity_raises PASSED [ 70%]
app/tests/test_recording_model.py::TestRecordingModel::test_get_file_size_estimate PASSED [ 71%]
app/tests/test_recording_model.py::TestRecordingModel::test_invalid_duration_raises_error PASSED [ 71%]
app/tests/test_recording_model.py::TestRecordingModel::test_invalid_file_path PASSED [ 72%]
app/tests/test_recording_model.py::TestRecordingModel::test_is_transcribed_empty_vs_none PASSED [ 72%]
app/tests/test_recording_model.py::TestRecordingModel::test_malformed_date_format PASSED [ 73%]
app/tests/test_recording_model.py::TestRecordingModel::test_missing_required_fields PASSED [ 73%]
app/tests/test_recording_model.py::TestRecordingModel::test_recording_creation PASSED [ 74%]
app/tests/test_recording_model.py::TestRecordingModel::test_recording_equality PASSED [ 74%]
app/tests/test_recording_model.py::TestRecordingModel::test_recording_unhashable PASSED [ 75%]
app/tests/test_recording_model.py::TestRecordingModel::test_recording_with_completed_transcription PASSED [ 75%]
app/tests/test_recording_model.py::TestRecordingModel::test_recording_with_pending_transcription PASSED [ 76%]
app/tests/test_recording_model.py::TestRecordingModel::test_status_with_whitespace_is_completed PASSED [ 76%]
app/tests/test_recording_model.py::TestRecordingModel::test_to_database_tuple PASSED [ 77%]
app/tests/test_recording_model.py::TestRecordingModel::test_update_processed_text PASSED [ 77%]
app/tests/test_recording_model.py::TestRecordingModel::test_update_processed_text_without_raw_transcript PASSED [ 78%]
app/tests/test_recording_model.py::TestRecordingModel::test_update_transcript PASSED [ 78%]
app/tests/test_recording_model.py::TestRecordingModel::test_update_transcript_allows_empty_and_sets_timestamp PASSED [ 79%]
app/tests/test_recording_model.py::TestRecordingModel::test_validate_date_format_invalid_month_and_timezone PASSED [ 79%]
app/tests/test_recording_model.py::TestRecordingModel::test_validate_duration_allows_zero_and_infinity_and_nan PASSED [ 80%]
app/tests/test_recording_model.py::TestRecordingModel::test_validate_file_path_encoded_traversal_not_decoded PASSED [ 80%]
app/tests/test_recording_model.py::TestRecordingModel::test_validate_file_path_long_and_reserved_names PASSED [ 80%]
app/tests/test_recording_model.py::TestRecordingModel::test_validate_filename_whitespace_only_rejected PASSED [ 81%]
app/tests/test_thread_manager.py::TestThreadRegistration::test_auto_unregisters_when_thread_finishes PASSED [ 81%]
app/tests/test_thread_manager.py::TestThreadRegistration::test_instance_is_singleton PASSED [ 82%]
app/tests/test_thread_manager.py::TestThreadRegistration::test_registers_thread_and_adds_to_active_list PASSED [ 82%]
app/tests/test_thread_manager.py::TestThreadRegistration::test_warns_on_duplicate_registration PASSED [ 83%]
app/tests/test_thread_manager.py::TestThreadCancellation::test_cancel_all_threads_cancels_and_waits PASSED [ 83%]
app/tests/test_thread_manager.py::TestThreadCancellation::test_logs_warning_for_thread_without_cancel PASSED [ 84%]
app/tests/test_thread_manager.py::TestThreadManagerEdgeCases::test_cancel_all_threads_when_empty_logs_and_returns PASSED [ 84%]
app/tests/test_thread_manager.py::TestThreadManagerEdgeCases::test_is_running_raises_exception PASSED [ 85%]
app/tests/test_thread_manager.py::TestThreadManagerEdgeCases::test_register_none_object PASSED [ 85%]
app/tests/test_thread_manager.py::TestThreadManagerEdgeCases::test_register_thread_without_finished_signal PASSED [ 86%]
app/tests/test_thread_manager.py::TestThreadManagerEdgeCases::test_unregister_during_cancel PASSED [ 86%]
app/tests/test_thread_manager.py::TestThreadManagerEdgeCases::test_wait_raises_exception PASSED [ 87%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__add_speaker_detection_labels_chunks PASSED [ 87%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__add_speaker_detection_no_segments_returns_original PASSED [ 88%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_locally_basic_and_string_result PASSED [ 88%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_locally_pipeline_exception_wrapped PASSED [ 89%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_locally_with_speaker_detection_error_falls_back PASSED [ 89%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_locally_with_speaker_detection_success PASSED [ 90%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_with_api_empty_response_raises PASSED [ 90%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_with_api_exception_wrapped PASSED [ 91%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_with_api_input_validation PASSED [ 91%]
app/tests/test_transcription_service.py::TestTranscriptionService::test__transcribe_with_api_success PASSED [ 92%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_api_authentication_errors PASSED [ 92%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_api_network_timeout PASSED [ 93%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_corrupted_audio PASSED [ 93%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_directory_instead_of_file PASSED [ 94%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_invalid_audio_format PASSED [ 94%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_permission_denied_file PASSED [ 95%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_speaker_detection_requested_but_no_hf_key PASSED [ 95%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_transcribe_file_api_ignores_speaker_detection_with_warning PASSED [ 96%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_transcribe_file_missing_file_raises PASSED [ 96%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_transcribe_file_mps_path_selected PASSED [ 97%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_transcribe_file_mps_with_speaker_detection_prefers_cpu PASSED [ 97%]
app/tests/test_transcription_service.py::TestTranscriptionService::test_transcribe_file_standard_local_path PASSED [ 98%]
app/tests/test_transcription_service.py::TestModelManagerDeviceSelection::test_cuda_insufficient_memory_falls_back_cpu PASSED [ 98%]
app/tests/test_transcription_service.py::TestModelManagerDeviceSelection::test_cuda_selected_with_sufficient_memory PASSED [ 99%]
app/tests/test_transcription_service.py::TestModelManagerDeviceSelection::test_get_free_gpu_memory_exception_returns_zero PASSED [ 99%]
app/tests/test_transcription_service.py::TestModelManagerDeviceSelection::test_hw_accel_disabled_returns_cpu PASSED [100%]

=============================== warnings summary ===============================
app/tests/test_thread_manager_v2.py:57
  /home/john/transcribrr/app/tests/test_thread_manager.py:57: PytestCollectionWarning: cannot collect test class 'TestThread' because it has a __init__ constructor (from: app/tests/test_thread_manager.py)
    class TestThread:

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 205 passed, 1 warning in 0.31s ========================
